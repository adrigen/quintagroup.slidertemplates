
 <dl class="portlet portletCollection"
     i18n:domain="plone"
     tal:define="collection_url view/collection_url;
                 header view/data/header;
                 toLocalizedTime nocall:context/@@plone/toLocalizedTime;
                 ">
 
     <dt class="portletHeader">
        <a tal:attributes="href collection_url" tal:omit-tag="not:view/data/show_more">
            <span tal:content="header" />
        </a>
     </dt>    
    <tal:newsitems>
          <div id="owl-shelf" tal:attributes="id header" class="owl-carousel owl-theme ">
           
            <div class="item" tal:repeat="obj view/results">
                <dd class="portletItem"
                    tal:define="oddrow repeat/obj/odd;
                                item obj/getObject;"
                    tal:attributes="class python:oddrow and 'portletItem even' or 'portletItem odd'">
                    <a  href="#"
                        class="tile"
                        tal:attributes="href obj/getURL" >
                     <span class="portletItemDetails"
                          tal:condition="view/data/show_dates"
                          tal:content="python:toLocalizedTime(obj.Date)">

                        Date
                    </span>
                    <p  id="description"
                        tal:attributes="title obj/Description">
                      <span  class="eventItemData"
                              tal:condition="view/data/show_dates">
                      <span tal:content="python:toLocalizedTime(obj.start, long_format=True)">
                      Start
                      </span>
                      <span tal:content="python:toLocalizedTime(obj.end, long_format=True)">
                      End
                      </span>
                      </span>
                      <span tal:replace="obj/Title|obj/getId|obj/id">
                      Title
                      </span>
                    </p>

                    <img
                      tal:define="scales item/@@images"
                         tal:replace="structure python: scales.tag('image' )" />
                    
                    <p  tal:define="convertTo nocall:context/portal_transforms/convertTo;
                                  cropText nocall:context/@@plone/cropText;
                                  text item/getText;
                                  plaintext python:convertTo('text/plain', text).getData();
                                  croppedtext python:cropText(plaintext, 120, '...');" 
                        tal:content="croppedtext" />

                    <a  id="more"
                        tal:attributes="href collection_url"
                        tal:content="structure view/show_more_label">
                         More&hellip;
                         </a>
                    </a>     
                </dd>
            </div>

          </div>
     </tal:newsitems>

     <tal:x replace="structure string:&lt;script type='text/javascript'&gt;"></tal:x>
        $(document).ready(function() {

        $("#<tal:x replace="header"></tal:x>").owlCarousel({
            itemsDesktop : [1199,3],
            itemsCustom : false,
            items : 3,
            navigation : true, // Show next and prev buttons
          });
        });
        $("body").data("page", "frontpage");

      <tal:x replace="structure string: &lt;/script&gt;" ></tal:x>
 
 </dl>